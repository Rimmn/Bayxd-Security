name: üîí Protect Specific Files

on:
  push:
    branches: [main]
    paths:
      # FILE YANG MAU DIPROTEKSI:
      - 'handler.js'
      - 'scurity.js'
      - 'index.js'
      - 'database.js'
      - 'settings.js'
      - 'config.js'
      - 'database.json'
      - 'data/owner.json'
      - 'src/config/env.js'
      - 'control/database.js'

jobs:
  protect:
    runs-on: ubuntu-latest
    
    steps:
      - name: üîç Check Modified Files
        run: |
          echo "=== FILE PROTECTION CHECK ==="
          echo "User: ${{ github.actor }}"
          echo "Event: ${{ github.event_name }}"
          echo ""
          
      - name: üîê Verify Owner
        run: |
          # HANYA RIMMN YANG BOLEH
          if [ "${{ github.actor }}" != "Rimmn" ]; then
            echo "‚ùå ERROR: User '${{ github.actor }}' not authorized!"
            echo ""
            echo "üìã PROTECTED FILES LIST:"
            echo "1. handler.js"
            echo "2. scurity.js"
            echo "3. index.js"
            echo "4. database.js"
            echo "5. settings.js"
            echo "6. config.js"
            echo "7. database.json"
            echo "8. data/owner.json"
            echo "9. src/config/env.js"
            echo "10. control/database.js"
            echo ""
            echo "‚ö†Ô∏è  Only 'Rimmn' can modify these files!"
            exit 1
          fi
          
          echo "‚úÖ AUTHORIZED: User '${{ github.actor }}' is Rimmn"
      
      - name: ‚úÖ Success
        run: |
          echo "================================="
          echo "üéâ FILE MODIFICATION APPROVED"
          echo "================================="
          echo "User: ${{ github.actor }}"
          echo "Status: VERIFIED OWNER"
          echo "Protected files: 11 files"
          echo "================================="
