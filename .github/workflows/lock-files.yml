name: üõ°Ô∏è LOCK BOT FILES

on:
  push:
    branches: [main]
    paths:
      # SEMUA FILE YANG MAU DIPROTEKSI
      - 'index.js'
      - 'scurity.js'
      - 'handler.js'
      - 'settings.js'
      - 'database.json'
      - 'config.js'
      - 'data/owner.json'
      - 'data/sewa.json'

jobs:
  lock:
    runs-on: ubuntu-latest
    
    steps:
      # STEP 1: CHECKOUT
      - name: üì• Checkout code
        uses: actions/checkout@v4
        
      # STEP 2: SIMPLE VERIFICATION - HANYA RIMMN
      - name: üîê Verify Owner (Simple)
        run: |
          echo "========================================"
          echo "üîê FILE PROTECTION CHECK"
          echo "========================================"
          echo "Checking user: ${{ github.actor }}"
          echo ""
          
          # ATURAN SEDERHANA: HANYA RIMMN BOLEH
          if [ "${{ github.actor }}" != "Rimmn" ]; then
            echo "‚ùå‚ùå‚ùå ACCESS DENIED! ‚ùå‚ùå‚ùå"
            echo ""
            echo "User: ${{ github.actor }}"
            echo "Status: NOT AUTHORIZED"
            echo ""
            echo "üìÅ PROTECTED FILES:"
            echo "1. index.js"
            echo "2. scurity.js"
            echo "3. handler.js"
            echo "4. settings.js"
            echo "5. database.json"
            echo "6. config.js"
            echo "7. data/owner.json"
            echo "8. data/sewa.json"
            echo ""
            echo "‚ö†Ô∏è  Hanya 'Rimmn' yang boleh edit file ini!"
            echo "========================================"
            exit 1
          fi
          
          echo "‚úÖ ACCESS GRANTED!"
          echo "User: ${{ github.actor }}"
          echo "Status: AUTHORIZED"
          echo "========================================"
      
      # STEP 3: SUCCESS MESSAGE
      - name: ‚úÖ Success
        run: |
          echo "========================================"
          echo "üéâ FILE MODIFICATION APPROVED"
          echo "========================================"
          echo "‚úÖ User authorized: ${{ github.actor }}"
          echo "‚úÖ Files protected: 8 critical files"
          echo "‚úÖ Time: $(date)"
          echo "========================================"
